# C5.3 条件语句
## if语句
**if语句（if statement）** 的作用是：判断一个指定的条件是否为真，根据判断结果决定是否执行另外一条语句。`if`语句包含两种形式：一种含有`else`分支，另外一种没有。简单`if`语句的语法形式是：
```cpp
if (condition)
    statement
```

**if else 语句** 的形式是：
```cpp
if (condition)
    statement
else
    statement2
```

在这两个版本的`if`语句中，*condition*语句都必须用圆括号包围起来。*condition*可以是一个表达式，也可以是一个初始化了的变量声明。不管是表达式还是变量，其类型都必须能转换成布尔类型。通常情况下，*statement*和*statement2*是块语句。

如果*condition*为真，执行*statement*。当*statement*执行完成后，程序继续执行`if`语句后面的其他语句。

如果*condition*为假，跳过*statement*。对于简单`if`语句来说，程序继续执行`if`语句后面的其他语句；对于`if else`语句来说，执行*statement2*。

### 悬垂else
当一个`if`语句嵌套在另一个`if`语句内部时，很可能`if`分支会多于`else`分支。

这个问题通常称作**悬垂else（dangling else）** ， 在那些既有`if`语句又有`if else`语句的编程语言中是一个普遍存在的问题。不同语言解决该问题的思路也不同，就C++而言，它规定`else`与离它最近的尚未匹配的`if`匹配，从而消除了程序的二义性。

## switch语句
**switch语句（switch statement）** 提供了一条便利的途径使得我们能够在若干个固定的选项中做出选择。

`switch`语句首先对括号里的表达式求值，该表达式紧跟在关键字`switch`的后面，可以是一个初始化的变量声明。表达式的值转换成整数类型，然后与每个`case`标签的值比较。

如果表达式和某个`case`标签的值匹配成功，程序从该标签之后的第一条语句开始执行，直到到达了`switch`的结尾或者是遇到一条`break`语句为止。

`case`关键字和它对应的值一起被称为**case标签（case label）**。`case`标签必须是整型常量表达式。任意两个`case`标签的值不能相同，否则就会引发错误。另外，`default`也是一种特殊的`case`标签。

`break`语句的作用是中断当前的控制流。

### switch内部控制流
理解程序在`case`标签之间的执行流程非常重要。如果某个`case`标签匹配成功，将从该标签开始往后顺序执行所有`case`分支，除非程序显式地中断了这一过程，否则知道`switch`的结尾处才会停下。要避免执行后续`case`分支的代码，我们必须显式地告诉编译器终止执行过程。大多数情况下，在下一个`case`标签之前应该有一条`break`语句。

然而，也有一些时候默认的`switch`行为才是程序真正需要的。每个`case`标签只能对应一个值，但是有时候我们希望两个或更多值共享同一组操作。此时，我们就故意省略掉`break`语句，使得程序能够连续执行若干个`case`标签。

### default标签
如果没有任何一个`case`标签能匹配上`switch`表达式的值，程序将执行紧跟在**default标签（default label）** 后面的语句。

### switch内部的变量定义
`switch`的执行流程可能会跨过某些`case`标签。如果程序跳转到某个特定的`case`，则`switch`结构中该`case`标签之前的部分会被忽略掉。这种忽略掉一部分代码的行为引出一个有趣的问题：如果被忽略过的代码含有变量的定义怎么办？

答案是：如果在某处一个带初值的变量位于作用域之外，在另一处该变量位于作用域之内，则从前一处跳转到后一处的行为是非法行为。

如果需要为某个`case`分支定义并初始化一个变量，我们应该把变量定义在块内，从而确保后面的所有`case`标签都在变量的作用域之外：
```cpp
case true:
    {
        //do something
    }
case false:
    {
        //do something
    }
```
